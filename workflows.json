{
  "process-file": {
    "name": "ProcessFileWorkflow",
    "nodes": [
      {
        "id": "complete_extraction",
        "label": "complete_extraction",
        "node_type": "step",
        "description": "Validate extraction results and save key findings for review."
      },
      {
        "id": "ExtractJobStartedEvent",
        "label": "ExtractJobStartedEvent",
        "node_type": "event",
        "event_type": "ExtractJobStartedEvent",
        "event_types": [
          "ExtractJobStartedEvent"
        ],
        "event_schema": {
          "properties": {},
          "title": "ExtractJobStartedEvent",
          "type": "object"
        }
      },
      {
        "id": "StopEvent",
        "label": "StopEvent",
        "node_type": "event",
        "event_type": "StopEvent",
        "event_types": [
          "StopEvent"
        ],
        "event_schema": {
          "description": "Terminal event that signals the workflow has completed.\n\nThe `result` property contains the return value of the workflow run. When a\ncustom stop event subclass is used, the workflow result is that event\ninstance itself.\n\nExamples:\n    ```python\n    # default stop event: result holds the value\n    return StopEvent(result={\"answer\": 42})\n    ```\n\n    Subclassing to provide a custom result:\n\n    ```python\n    class MyStopEv(StopEvent):\n        pass\n\n    @step\n    async def my_step(self, ctx: Context, ev: StartEvent) -> MyStopEv:\n        return MyStopEv(result={\"answer\": 42})",
          "properties": {},
          "title": "StopEvent",
          "type": "object"
        }
      },
      {
        "id": "resource_72bc95b563d9",
        "label": "AsyncLlamaCloud",
        "node_type": "resource",
        "type_name": "AsyncLlamaCloud",
        "getter_name": "get_llama_cloud_client",
        "source_file": "/home/user/workspace/src/extraction_review/clients.py",
        "source_line": 27,
        "description": "Cloud services connection for file storage and processing."
      },
      {
        "id": "resource_config_3bd4dfdcac8c",
        "label": "Extraction Settings",
        "node_type": "resource_config",
        "type_name": "ExtractConfig",
        "config_file": "/home/user/workspace/configs/config.json",
        "path_selector": "extract",
        "config_schema": {
          "$defs": {
            "ExtractSettings": {
              "description": "Extraction settings loaded from configs/config.json extract.settings.",
              "properties": {
                "extraction_mode": {
                  "enum": [
                    "FAST",
                    "PREMIUM",
                    "MULTIMODAL"
                  ],
                  "title": "Extraction Mode",
                  "type": "string"
                },
                "system_prompt": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "title": "System Prompt"
                },
                "citation_bbox": {
                  "default": false,
                  "title": "Citation Bbox",
                  "type": "boolean"
                },
                "use_reasoning": {
                  "default": false,
                  "title": "Use Reasoning",
                  "type": "boolean"
                },
                "cite_sources": {
                  "default": false,
                  "title": "Cite Sources",
                  "type": "boolean"
                },
                "confidence_scores": {
                  "default": false,
                  "title": "Confidence Scores",
                  "type": "boolean"
                }
              },
              "required": [
                "extraction_mode"
              ],
              "title": "ExtractSettings",
              "type": "object"
            }
          },
          "description": "Full extraction configuration with schema and settings.",
          "properties": {
            "json_schema": {
              "additionalProperties": true,
              "title": "Json Schema",
              "type": "object"
            },
            "settings": {
              "$ref": "#/$defs/ExtractSettings"
            }
          },
          "required": [
            "json_schema",
            "settings"
          ],
          "title": "ExtractConfig",
          "type": "object"
        },
        "config_value": {
          "json_schema": {
            "type": "object",
            "properties": {
              "report_title": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "The title of the market research report or presentation"
              },
              "executive_summary": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "A concise summary of the report's main conclusions and recommendations"
              },
              "key_findings": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "finding": {
                      "type": "string",
                      "description": "A key insight or conclusion from the research"
                    },
                    "supporting_data": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "description": "Statistics, percentages, or data points that support this finding"
                    },
                    "source_visual": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "description": "Description of any chart, graph, or diagram that illustrates this finding"
                    }
                  },
                  "required": [
                    "finding"
                  ]
                },
                "description": "List of key findings and insights from the market research"
              },
              "market_size": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Total addressable market size, value, or volume mentioned in the report"
              },
              "growth_rate": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Market growth rate, CAGR, or growth projections"
              },
              "market_trends": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Key market trends identified in the research"
              },
              "competitive_insights": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "competitor": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "description": "Name of the competitor or market player"
                    },
                    "insight": {
                      "type": "string",
                      "description": "Key insight about this competitor's position, strategy, or performance"
                    }
                  },
                  "required": [
                    "insight"
                  ]
                },
                "description": "Competitive landscape insights and analysis"
              },
              "recommendations": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Strategic recommendations or action items from the research"
              },
              "methodology": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Research methodology, sample size, or data sources mentioned"
              }
            },
            "required": [
              "report_title",
              "executive_summary",
              "key_findings",
              "market_size",
              "growth_rate",
              "market_trends",
              "competitive_insights",
              "recommendations",
              "methodology"
            ]
          },
          "settings": {
            "extraction_mode": "MULTIMODAL",
            "system_prompt": "You are analyzing a market research presentation. Pay close attention to charts, graphs, diagrams, and visual data representations. Extract quantitative data from visualizations and describe the visual context for key findings.",
            "citation_bbox": true,
            "use_reasoning": true,
            "cite_sources": true,
            "confidence_scores": true
          }
        },
        "description": "Schema and settings for extracting market research findings"
      },
      {
        "id": "start_extraction",
        "label": "start_extraction",
        "node_type": "step",
        "description": "Wait for parsing to complete, then start extraction of key findings."
      },
      {
        "id": "ParseJobStartedEvent",
        "label": "ParseJobStartedEvent",
        "node_type": "event",
        "event_type": "ParseJobStartedEvent",
        "event_types": [
          "ParseJobStartedEvent"
        ],
        "event_schema": {
          "properties": {},
          "title": "ParseJobStartedEvent",
          "type": "object"
        }
      },
      {
        "id": "start_parsing",
        "label": "start_parsing",
        "node_type": "step",
        "description": "Download document and start high-quality parsing for visual understanding."
      },
      {
        "id": "FileEvent",
        "label": "FileEvent",
        "node_type": "event",
        "event_type": "FileEvent",
        "event_types": [
          "FileEvent",
          "StartEvent"
        ],
        "event_schema": {
          "properties": {
            "file_id": {
              "title": "File Id",
              "type": "string"
            }
          },
          "required": [
            "file_id"
          ],
          "title": "FileEvent",
          "type": "object"
        }
      },
      {
        "id": "resource_config_97a634a00399",
        "label": "Parsing Settings",
        "node_type": "resource_config",
        "type_name": "ParseConfig",
        "config_file": "/home/user/workspace/configs/config.json",
        "path_selector": "parse",
        "config_schema": {
          "description": "Parsing configuration for high-quality document understanding.",
          "properties": {
            "tier": {
              "default": "agentic",
              "enum": [
                "fast",
                "cost_effective",
                "agentic",
                "agentic_plus"
              ],
              "title": "Tier",
              "type": "string"
            },
            "version": {
              "default": "latest",
              "title": "Version",
              "type": "string"
            }
          },
          "title": "ParseConfig",
          "type": "object"
        },
        "config_value": {
          "tier": "agentic",
          "version": "latest"
        },
        "description": "High-quality parsing for visual content understanding"
      }
    ],
    "edges": [
      {
        "source": "complete_extraction",
        "target": "StopEvent",
        "label": null
      },
      {
        "source": "ExtractJobStartedEvent",
        "target": "complete_extraction",
        "label": null
      },
      {
        "source": "complete_extraction",
        "target": "resource_72bc95b563d9",
        "label": "llama_cloud_client"
      },
      {
        "source": "complete_extraction",
        "target": "resource_config_3bd4dfdcac8c",
        "label": "extract_config"
      },
      {
        "source": "start_extraction",
        "target": "ExtractJobStartedEvent",
        "label": null
      },
      {
        "source": "ParseJobStartedEvent",
        "target": "start_extraction",
        "label": null
      },
      {
        "source": "start_extraction",
        "target": "resource_72bc95b563d9",
        "label": "llama_cloud_client"
      },
      {
        "source": "start_extraction",
        "target": "resource_config_3bd4dfdcac8c",
        "label": "extract_config"
      },
      {
        "source": "start_parsing",
        "target": "ParseJobStartedEvent",
        "label": null
      },
      {
        "source": "FileEvent",
        "target": "start_parsing",
        "label": null
      },
      {
        "source": "start_parsing",
        "target": "resource_72bc95b563d9",
        "label": "llama_cloud_client"
      },
      {
        "source": "start_parsing",
        "target": "resource_config_97a634a00399",
        "label": "parse_config"
      }
    ],
    "description": "Extract key findings from market research reports with visual understanding.",
    "workflow_path": "/home/user/workspace/src/extraction_review/process_file.py"
  },
  "metadata": {
    "name": "MetadataWorkflow",
    "nodes": [
      {
        "id": "get_metadata",
        "label": "get_metadata",
        "node_type": "step",
        "description": "Return the data schema and storage settings for the review interface."
      },
      {
        "id": "StartEvent",
        "label": "StartEvent",
        "node_type": "event",
        "event_type": "StartEvent",
        "event_types": [
          "StartEvent"
        ],
        "event_schema": {
          "description": "Implicit entry event sent to kick off a `Workflow.run()`.",
          "properties": {},
          "title": "StartEvent",
          "type": "object"
        }
      },
      {
        "id": "MetadataResponse",
        "label": "MetadataResponse",
        "node_type": "event",
        "event_type": "MetadataResponse",
        "event_types": [
          "MetadataResponse",
          "StopEvent"
        ],
        "event_schema": {
          "properties": {
            "json_schema": {
              "additionalProperties": true,
              "title": "Json Schema",
              "type": "object"
            },
            "extracted_data_collection": {
              "title": "Extracted Data Collection",
              "type": "string"
            }
          },
          "required": [
            "json_schema",
            "extracted_data_collection"
          ],
          "title": "MetadataResponse",
          "type": "object"
        }
      },
      {
        "id": "resource_config_9ab05cad7fa5",
        "label": "Extraction Schema",
        "node_type": "resource_config",
        "type_name": "JsonSchema",
        "config_file": "/home/user/workspace/configs/config.json",
        "path_selector": "extract.json_schema",
        "config_schema": {
          "description": "Pydantic wrapper for a JSON schema loaded via ResourceConfig.",
          "properties": {
            "type": {
              "default": "object",
              "title": "Type",
              "type": "string"
            },
            "properties": {
              "type": "object",
              "additionalProperties": true,
              "default": {},
              "title": "Properties"
            },
            "required": {
              "default": [],
              "items": {
                "type": "string"
              },
              "title": "Required",
              "type": "array"
            }
          },
          "title": "JsonSchema",
          "type": "object"
        },
        "config_value": {
          "type": "object",
          "properties": {
            "report_title": {
              "type": [
                "string",
                "null"
              ],
              "description": "The title of the market research report or presentation"
            },
            "executive_summary": {
              "type": [
                "string",
                "null"
              ],
              "description": "A concise summary of the report's main conclusions and recommendations"
            },
            "key_findings": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "finding": {
                    "type": "string",
                    "description": "A key insight or conclusion from the research"
                  },
                  "supporting_data": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "description": "Statistics, percentages, or data points that support this finding"
                  },
                  "source_visual": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "description": "Description of any chart, graph, or diagram that illustrates this finding"
                  }
                },
                "required": [
                  "finding"
                ]
              },
              "description": "List of key findings and insights from the market research"
            },
            "market_size": {
              "type": [
                "string",
                "null"
              ],
              "description": "Total addressable market size, value, or volume mentioned in the report"
            },
            "growth_rate": {
              "type": [
                "string",
                "null"
              ],
              "description": "Market growth rate, CAGR, or growth projections"
            },
            "market_trends": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Key market trends identified in the research"
            },
            "competitive_insights": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "competitor": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "description": "Name of the competitor or market player"
                  },
                  "insight": {
                    "type": "string",
                    "description": "Key insight about this competitor's position, strategy, or performance"
                  }
                },
                "required": [
                  "insight"
                ]
              },
              "description": "Competitive landscape insights and analysis"
            },
            "recommendations": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Strategic recommendations or action items from the research"
            },
            "methodology": {
              "type": [
                "string",
                "null"
              ],
              "description": "Research methodology, sample size, or data sources mentioned"
            }
          },
          "required": [
            "report_title",
            "executive_summary",
            "key_findings",
            "market_size",
            "growth_rate",
            "market_trends",
            "competitive_insights",
            "recommendations",
            "methodology"
          ]
        },
        "description": "JSON Schema defining the fields to extract from documents"
      }
    ],
    "edges": [
      {
        "source": "get_metadata",
        "target": "MetadataResponse",
        "label": null
      },
      {
        "source": "StartEvent",
        "target": "get_metadata",
        "label": null
      },
      {
        "source": "get_metadata",
        "target": "resource_config_9ab05cad7fa5",
        "label": "extraction_schema"
      }
    ],
    "description": "Provide extraction schema and configuration to the workflow editor.",
    "workflow_path": "/home/user/workspace/src/extraction_review/metadata_workflow.py"
  }
}